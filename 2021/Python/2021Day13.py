# -*- coding: utf-8 -*-
"""
Created on Mon Dec 13 05:22:39 2021

@author: choes
"""
input = """6,10
0,14
9,10
0,3
10,4
4,11
6,0
6,12
4,1
0,13
10,12
3,4
3,0
8,4
1,10
2,14
8,10
9,0"""

inputFolds = """fold along y=7
fold along x=5"""

input = """1284,229
713,50
1267,194
437,229
651,200
763,407
1173,373
248,579
503,395
155,532
278,488
863,444
403,695
20,25
709,105
1063,560
554,94
955,444
897,813
792,665
969,799
1293,843
261,716
1084,542
33,579
1295,656
82,743
1101,789
164,506
856,220
199,323
252,733
525,669
1292,137
1230,756
552,856
1120,229
59,42
360,737
346,215
1005,285
673,535
1150,131
540,177
822,539
301,375
410,743
1303,357
1290,540
873,574
551,434
875,86
300,336
301,560
373,184
1125,460
863,28
990,768
360,107
223,574
525,491
425,554
191,584
80,473
904,138
464,889
530,625
922,437
1064,757
74,581
234,760
65,149
318,421
873,478
575,329
1098,602
964,861
1173,145
1201,478
898,607
103,404
551,796
628,677
281,845
1017,669
1005,166
502,292
155,362
1201,416
346,543
863,705
141,882
1032,488
1026,739
277,222
1017,127
494,763
933,894
774,229
209,341
1241,845
388,9
457,239
808,292
187,32
107,407
219,224
739,329
99,107
1211,107
785,771
1168,130
140,488
170,579
1026,563
305,546
609,789
316,719
551,404
80,105
1004,212
1150,763
1183,220
457,655
192,873
676,25
224,884
917,268
873,416
214,103
632,299
729,334
10,399
1285,861
64,611
1272,737
1087,294
464,5
323,885
26,553
699,194
1135,14
364,570
1077,693
561,59
1119,584
556,619
277,672
301,519
375,189
47,371
1120,889
440,103
865,60
373,710
1146,219
678,859
572,207
838,799
1175,366
375,539
1265,481
447,705
355,450
907,199
264,791
1066,879
875,186
1164,423
1004,660
637,330
455,546
59,294
724,114
631,750
806,280
774,122
191,481
105,281
43,786
315,656
68,332
226,542
1076,582
500,249
807,395
48,269
1210,7
1267,108
410,341
759,180
355,5
463,665
390,343
609,497
350,819
900,10
1207,460
160,763
181,135
599,351
964,679
846,565
850,625
1048,712
622,793
1114,737
475,355
323,773
104,838
175,273
1071,624
107,136
1033,894
513,684
1037,24
1103,556
104,560
349,609
530,437
277,448
622,177
1305,108
688,126
454,170
536,68
1230,138
1101,565
763,575
907,155
773,789
490,388
1049,821
197,627
731,827
1181,655
417,474
1207,490
328,673
47,147
1039,767
208,730
408,308
228,275
1130,810
569,694
127,674
306,234
972,791
1036,880
1257,789
244,15
1113,267
570,336
52,581
1111,457
740,336
249,837
637,535
1110,110
1039,137
75,515
699,481
360,401
187,841
382,677
812,763
547,504
282,12
30,549
469,168
547,487
17,759
502,154
537,105
331,200
78,206
721,149
1277,347
940,358
1208,9
293,669
349,98
1135,51
676,234
454,618
537,658
1007,505
1203,407
1017,261
867,77
524,177
137,749
701,845
1293,51
261,452
826,350
611,749
13,518
244,553
852,320
1275,829
1258,581
17,588
1292,757
940,536
783,658
135,814
500,197
1288,859
678,411
738,53
663,805
1016,605
1235,199
1123,15
249,445
1203,95
576,206
524,871
599,95
79,696
467,841
346,257
410,785
656,445
222,635
586,887
1093,366
701,262
1128,775
1253,844
1203,808
938,105
715,628
360,23
584,159
1111,98
107,127
912,719
537,262
271,757
283,189
525,640
756,455
627,453
599,112
905,53
587,19
587,875
820,281
1091,224
579,379
709,789
982,3
898,175
923,852
856,170
435,708
354,553
211,410
708,581
172,697
1125,434
721,477
1110,674
361,225
1261,194
242,607
967,763
197,267
1251,294
1135,273
995,341
1033,700
945,700
683,453
164,388
550,782
1165,82
763,319
152,154
890,516
681,112
1288,747
1237,112
904,287
370,536
196,31
959,389
994,719
1044,9
353,861
170,565
786,544
1005,173
48,199
412,719
1260,505
1061,610
311,686
918,264
197,575
333,562
900,553
619,289
1017,633
1203,127
699,108
1135,499
239,718
1116,528
677,434
580,313
753,340
1255,858
879,768
595,152
284,331
1302,344
1228,337
1251,600
1101,553
721,865
761,855
731,247
992,473
1052,556
249,732
1192,826
1119,217
1267,332
381,646
681,861
648,798
738,574
589,745
108,626
455,571
855,348
734,206
574,15
611,33
281,565
1033,672
1146,388
372,826
129,239
959,505
525,771
604,326
525,254
1020,324
761,57
1062,399
736,809
139,445
874,178
927,757
1027,332
904,651
711,708
586,780
967,574
383,410
783,124
527,12
182,119
595,350
904,495
868,527
724,439
574,85
629,37
494,355
354,341
1130,182
605,110
26,665
294,345
440,791
164,675
349,796
1064,586
848,21
729,21
271,767
947,49
1242,332
1135,880
524,289
160,131
590,611
609,262
311,208
1026,331
1284,553
117,658
786,871
197,319
38,849
180,182
890,378
348,212
900,743
1052,338
574,879
773,632
98,152
421,201
1041,141
1293,428
33,99
104,334
199,796
479,880
326,445
405,53
406,735
572,10
874,626
1046,791
816,131
721,745
1029,537
194,157
117,553
1303,805
145,82
1009,71
527,457
445,12
436,66
281,632
756,800
875,351
701,497
403,739
130,423
1297,376
927,86
217,798
1151,228
1017,185
686,793
1158,154
639,686
1295,238
527,460
753,373
1203,351
594,130
1061,445
127,220
92,582
949,225
43,108
994,343
749,611
524,605
607,539
1119,677
572,474
345,199
219,670
383,86
700,553
1183,674
864,164
1248,343
609,845
965,199
769,306
1228,436
900,781
579,627
45,257
865,553
689,449
594,764
900,113
683,441
199,437
129,640
1027,189
8,550
671,208
1203,263
579,827
484,763
80,789
267,404
556,152
551,460
445,386
674,585
634,234
17,583
917,73
773,610
850,533
191,33
634,421
537,355
103,852
761,39
490,506
1002,33
902,266
900,15
1113,627
462,201
773,710
1029,49
323,9
435,808
328,3
1236,313
880,436
248,399
927,484
345,695
1253,50
865,147
832,343
556,275
1241,49
57,498
301,861
846,329
639,126
810,249
938,329
242,287
835,355
8,344
1297,600
711,95
1101,747
82,436
1102,341
45,481
194,737
212,154
572,53
222,56
1212,152
251,715
847,229
701,632
129,571
882,542
1170,411
1212,572
431,574
1228,743
721,373
1049,149
244,879
1251,152
774,570
244,501
261,29
841,726
900,785
1061,732
359,297
1077,201
890,200
214,343
508,423
75,871
957,861
1263,371
284,603
82,532
301,823
338,791
117,777
82,789
464,565
595,714
1120,665
107,711
92,826
1293,583
331,437
955,450
636,585
856,724
1020,329
281,243
244,113
691,681
724,780
129,403
811,84
847,584
1111,12
917,149
396,338
868,602
1118,21
1248,318
261,745
50,505
228,182
266,856
571,329
652,766
1165,619
1084,369
10,175
1029,262
469,726
1302,473
1207,852
326,613
984,221
75,199
1001,116
1020,220
773,105
55,334
632,411
445,60
749,59
611,700
284,155
1039,757
917,745
294,23
80,565
1102,665
22,600
1066,781
47,355
706,326
1307,694
1245,745
688,793
1066,501
1210,455
1168,316
383,484
309,535
464,329
627,441
118,677
308,861
74,313
386,294
808,154
701,413
413,813
98,572
950,401
986,19
1285,334
1114,157
1226,558
736,85
599,543
100,757
808,740
893,420
865,834
1228,532
716,130
831,843
1248,551
1027,114
1230,565
624,549
199,571
589,865
1125,882
1089,701
1111,9
221,417
865,117
470,708
82,884
1242,562
393,597
1278,555
1160,791
709,77
47,539
1059,603
1284,341
669,600
572,532
1213,365
1029,632
518,229
1181,239
999,208
698,739
982,316
594,437
338,816
100,309
283,332
879,320
22,859
1193,355
1005,838
33,403
214,366
1235,471
104,294
465,197
618,220
443,77
277,280
1054,280
1192,570
715,350
430,234
1091,487
731,647
1202,492
847,33
436,626
902,308
164,130
207,338
316,140
1191,786
1093,478
1066,337
629,334
1217,507
699,338
1196,177
1230,553
579,247
1207,98
373,565
835,539
1290,25
249,470
1290,354
1203,319
12,691
937,651
127,434
1084,352
393,297
763,504
959,256
1193,658
45,637
865,341
105,855
1230,105
1205,855
1099,410
150,791
546,850
1017,575
227,787
589,149
611,194
268,152
518,665
783,434
7,805
527,796
1101,105
681,260
189,697
937,537
172,197
1255,351
999,579
435,543
520,201
527,226
868,378
674,757
699,668
729,873
1049,44
992,869
1268,739
764,850
288,269
284,115
1297,152
692,565
200,784
816,355
1232,688
1026,536
937,105
537,635
519,217
1002,861
398,719
549,855
622,126
708,469
117,632
858,437
878,819
961,796
979,437
107,855
853,239
433,253
783,460
281,710
659,121
1258,238
1175,814
1103,338
62,343
848,693
1196,269
191,413
495,666
711,782
129,491
875,672
53,789
1033,280
142,764
467,893
100,103
326,673
406,287
1001,395
1232,847
289,700
47,747
749,835
102,437
1114,544
208,341
731,199
44,665
1140,329
156,315
479,843
1300,399
1140,763
17,428
843,431
1061,393
689,799
35,845
1232,240
114,269
179,355
1268,358
1168,764
359,745
366,493
935,875
301,782
97,521
701,861
180,84
1258,656
554,800
242,719
175,499
885,340
431,768
694,849
678,819
793,145
406,607
878,635
1263,539
196,863
612,115
430,10
679,32
200,170
1066,553
1300,175
1113,575
972,175
151,619
681,33
622,717
709,257
1116,737
783,12
78,847
442,602
436,178
348,660
1041,501
734,623
965,843
935,819
662,96
1061,162
574,341
1021,700"""

inputFolds = """fold along x=655
fold along y=447
fold along x=327
fold along y=223
fold along x=163
fold along y=111
fold along x=81
fold along y=55
fold along x=40
fold along y=27
fold along y=13
fold along y=6"""


input = """3264,817
4081,0
3205,894
3448,894
3352,721
4217,112
4077,0
4093,243
3631,448
4065,0
3439,642
3534,537
3622,448
3847,224
4056,0
3806,257
3631,446
3613,448
3439,894
3808,511
3262,803
3262,805
3622,446
3264,791
3264,777
3593,448
3613,446
3806,511
3422,894
3228,819
3808,481
3889,145
3584,448
3413,894
4039,0
3742,299
3593,446
3401,894
3821,476
4030,0
3584,446
3448,838
3695,593
3806,483
3262,775
3397,894
86,110
4021,0
3830,448
3385,894
3454,828
3821,448
3376,894
4001,0
3809,448
3830,446
3992,0
3821,446
3805,448
3809,446
3793,448
3806,455
4006,243
3784,448
3629,623
4081,154
3805,446
107,35
4030,222
3359,894
3983,0
3793,446
3350,894
3806,425
3784,446
3553,679
121,0
4217,0
3341,894
112,0
0,117
0,119
4213,0
0,105
3767,448
4201,0
3808,397
3758,448
4192,0
4350,117
4350,119
235,120
4350,105
0,103
3767,446
3749,448
3575,894
30,72
0,89
0,91
3806,399
3533,670
3758,446
95,0
3729,448
4350,103
3749,446
3558,894
4350,89
86,0
4350,91
3720,448
0,75
3808,621
0,77
3549,894
77,0
4093,336
4175,0
3729,446
3537,894
4166,0
3720,446
4350,75
3806,621
4350,77
57,0
4108,63
3847,322
0,61
3533,894
0,63
4157,0
3966,448
0,49
3521,894
48,0
3941,476
3957,448
3512,894
4350,61
4137,0
3945,448
3806,607
4350,63
24,21
3685,726
3966,446
4350,49
0,47
77,224
3806,593
0,33
4128,0
0,35
4078,327
3957,446
3477,670
3941,448
39,0
3945,446
3929,448
4350,47
3720,404
4350,33
4350,35
3920,448
0,19
0,21
3941,446
3808,565
3495,894
22,0
4128,246
4119,0
4078,299
3929,446
3486,894
13,0
3920,446
4350,19
4350,21
1,0
0,5
3477,894
0,7
4102,0
248,0
4349,0
3903,448
3457,894
4030,322
4337,0
4350,5
0,243
3536,803
4350,7
0,245
3894,448
3654,691
3586,759
3806,539
4328,0
3808,523
3903,446
3885,448
3711,894
4350,243
4350,245
3821,516
0,229
3894,446
0,231
0,217
231,0
3902,427
3865,448
3885,446
3694,894
222,0
3856,448
4350,229
4350,231
3685,894
4350,217
0,215
213,0
4020,291
4311,0
0,201
3972,341
3865,446
3673,894
0,203
3835,721
4302,0
3856,446
193,0
4350,215
3669,894
4293,0
4350,201
4350,203
3847,448
3657,894
184,0
0,187
3806,749
95,364
0,189
349,110
4093,448
3631,670
3613,672
3648,894
3782,763
4271,19
4273,0
4081,448
4179,355
3847,446
4311,224
4350,187
4264,0
4350,189
116,313
0,173
4093,446
0,175
4077,448
4296,217
0,161
175,0
4081,446
4065,448
3897,609
4056,448
4337,168
4350,173
4350,175
4077,446
4350,161
95,334
0,159
3631,894
158,0
4255,0
0,145
4065,446
0,147
3808,693
3622,894
149,0
4056,446
3945,558
137,0
4350,159
3613,894
4350,145
4238,0
4350,147
0,131
0,133
4229,0
133,0
4039,448
3593,894
3856,616
184,194
285,110
3821,670
0,383
3749,728
4030,448
3584,894
4350,131
0,369
273,110
4350,133
0,371
3806,677
4039,446
4021,448
137,224
3808,651
4350,383
269,110
4030,446
4350,369
4350,371
367,0
0,355
4157,308
4001,448
4305,147
0,357
4021,446
3830,894
39,334
358,0
3673,782
4281,161
3992,448
4091,609
3821,894
349,0
4350,355
4001,446
3809,894
3648,784
4350,357
0,341
208,133
0,343
3808,887
3992,446
0,329
329,0
3805,894
3983,448
3793,894
320,0
4350,341
4350,343
485,110
4350,329
0,327
3749,672
3784,894
0,313
352,217
3806,875
0,315
133,196
121,448
4217,448
3808,859
320,250
3983,446
503,72
112,448
4350,327
167,159
4350,313
4213,448
4350,315
121,446
311,0
4217,446
0,299
4201,448
0,301
270,47
312,245
3990,422
112,446
4192,448
4213,446
3767,894
294,0
4350,299
4201,446
4001,390
70,483
4350,301
0,285
3758,894
0,287
285,0
4192,446
0,273
95,448
273,0
3749,894
421,112
420,114
86,448
4350,285
3720,642
4350,287
4350,273
95,446
0,271
269,0
77,448
0,257
4175,448
3729,894
4229,140
0,259
257,0
86,446
294,224
4166,448
3720,894
57,448
4350,271
77,446
0,509
0,511
4350,257
4175,446
4157,448
4350,259
0,497
48,448
273,224
4166,446
57,446
503,0
4137,448
4350,509
4350,511
4157,446
3966,894
0,495
4350,497
48,446
494,0
0,481
4128,448
0,483
4273,306
3957,894
485,0
3806,777
4137,446
39,448
3945,894
4350,495
86,406
4350,481
86,392
4128,446
257,222
4350,483
465,0
0,467
0,469
3941,894
39,446
22,448
4119,448
3929,894
456,0
13,448
3920,894
4350,467
1,448
4350,469
0,453
22,446
4119,446
0,455
4102,448
0,441
4192,600
248,448
13,446
4349,448
1,446
447,0
460,245
4350,453
4337,448
4350,455
4102,446
4350,441
0,439
248,446
4030,763
0,425
4328,448
0,427
4349,446
3903,894
430,0
4337,446
4350,439
3894,894
4350,425
421,0
4328,446
4350,427
231,448
3720,784
0,411
409,0
0,413
3885,894
625,47
222,448
231,446
405,0
213,448
4350,411
4311,448
3865,894
4350,413
393,0
0,397
222,446
0,399
447,222
4302,448
3856,894
0,385
384,0
4216,523
193,448
213,446
4311,446
421,224
4293,448
3957,784
184,448
0,635
4350,397
0,637
4350,399
4302,446
4350,385
639,0
193,446
4273,448
4293,446
421,222
542,103
3847,894
630,0
184,446
4350,635
3945,782
4016,696
4264,448
4350,637
0,621
4093,894
0,623
621,0
4081,894
0,609
4273,446
175,448
4078,889
4264,446
57,558
4350,621
601,0
4077,894
4350,623
766,110
0,607
4350,609
175,446
158,448
4065,894
0,593
4255,448
592,0
0,595
4039,670
4021,672
149,448
4056,894
4145,537
137,448
4350,607
158,446
4350,593
4255,446
621,224
4238,448
4350,595
544,33
0,579
0,581
149,446
4229,448
133,448
583,0
591,248
137,446
137,434
4238,446
4350,579
4350,581
0,565
4229,446
133,446
544,21
186,634
4039,894
4119,558
0,567
503,334
566,0
0,553
4030,894
272,287
557,0
367,448
4080,817
4350,565
545,0
4021,894
4350,567
0,551
4350,553
544,7
358,448
0,537
29,525
0,539
4349,544
367,446
541,0
349,448
4001,894
529,0
4350,551
544,245
358,446
4350,537
3992,894
4350,539
520,0
0,523
329,448
0,525
349,446
320,448
0,761
4350,523
665,110
329,446
0,763
4350,525
557,222
248,516
3983,894
766,0
320,446
4081,782
4350,761
719,54
757,0
4080,775
121,894
4217,894
4350,763
311,448
0,747
658,89
0,749
4302,558
112,894
737,0
757,252
4213,894
542,215
311,446
294,448
4056,782
4201,894
4350,747
728,0
4350,749
0,733
0,735
285,448
4192,894
0,721
273,448
294,446
4350,733
4350,735
285,446
95,894
0,719
4350,721
269,448
4010,805
0,705
719,0
273,446
544,161
0,707
257,448
86,894
77,894
4350,719
269,446
4175,894
4350,705
702,0
4350,707
257,446
0,691
0,693
4166,894
693,0
57,894
503,448
681,0
4157,894
13,672
48,894
494,448
4350,691
136,537
592,336
4350,693
4328,698
0,677
0,679
677,0
503,446
485,448
4137,894
0,665
426,511
885,52
665,0
494,446
4128,894
544,369
656,0
4350,677
465,448
239,693
4350,679
485,446
39,894
0,663
4350,665
0,649
456,448
0,651
542,369
465,446
4350,663
22,894
77,824
4119,894
4350,649
456,446
0,889
4350,651
13,894
893,0
1,894
447,448
320,560
4102,894
0,887
4350,889
213,672
248,894
770,116
529,359
384,502
0,873
0,875
270,621
873,0
4349,894
447,446
541,336
430,448
4337,894
864,0
4350,887
4350,873
421,448
4328,894
4350,875
544,313
0,859
409,448
0,861
430,446
201,663
421,446
542,327
231,894
405,448
4350,859
855,0
409,446
4350,861
393,448
0,845
222,894
0,847
0,833
384,448
213,894
405,446
4311,894
838,0
57,782
393,446
4350,845
4350,847
4302,894
0,831
4350,833
175,670
829,0
384,446
0,817
193,894
639,448
4302,882
0,819
817,0
4293,894
184,894
630,448
855,224
542,285
4350,831
4350,817
813,0
639,446
544,271
621,448
4350,819
4273,894
0,803
801,0
248,810
0,805
630,446
133,672
4264,894
953,110
792,0
601,448
621,446
175,894
542,257
211,845
4350,803
542,259
592,448
4350,805
693,364
0,789
928,116
0,791
0,777
601,446
542,509
158,894
4255,894
592,446
544,481
4350,789
4350,791
149,894
0,775
4350,777
137,894
775,0
583,448
421,614
4238,894
1009,0
4350,775
4229,894
133,894
583,446
566,448
1000,0
430,588
557,448
545,448
418,579
544,453
566,446
766,488
557,446
367,894
541,448
269,722
991,0
545,446
529,448
358,894
775,222
520,448
349,894
541,446
4302,782
893,336
974,0
529,446
428,539
965,0
520,446
329,894
953,0
595,618
320,894
766,448
903,63
949,0
757,448
937,0
766,446
269,672
864,334
928,0
737,448
757,446
311,894
965,224
524,413
728,448
756,427
968,201
737,446
965,222
294,894
661,257
728,446
137,782
1086,91
285,894
273,894
911,0
719,448
1101,56
902,0
1086,75
1145,0
269,894
719,446
702,448
257,894
1088,49
1136,0
430,726
693,448
1086,61
681,448
669,479
542,607
1086,63
702,446
693,446
503,894
677,448
681,446
1127,0
665,448
1086,47
494,894
331,791
656,448
1088,19
485,894
677,446
766,614
1110,0
665,446
447,670
1101,0
430,672
656,446
465,894
1086,19
1089,0
1088,7
456,894
508,845
1085,0
893,448
1073,0
1088,243
1064,0
873,448
265,802
893,446
1051,19
447,894
1086,243
893,434
864,448
1088,229
1209,110
873,446
677,390
430,894
864,446
692,623
1086,229
421,894
1086,217
409,894
1047,0
855,448
1088,203
1038,0
405,894
1086,215
1029,0
965,320
855,446
838,448
393,894
878,411
1272,0
1088,187
1091,184
829,448
384,894
817,448
838,446
829,446
1088,173
639,894
813,448
1263,0
817,446
1177,72
801,448
630,894
1029,224
792,448
621,894
813,446
1246,0
801,446
1088,145
409,824
544,691
592,642
421,816
1237,0
792,446
601,894
1225,0
592,894
1086,147
1088,133
1165,56
1221,0
775,448
1209,0
545,670
1200,0
1009,448
583,894
775,446
1336,126
1000,448
409,784
893,560
1009,446
1088,355
665,523
542,663
1088,357
566,894
1000,446
557,894
1176,7
792,390
545,894
1183,0
991,448
1086,357
1174,0
541,894
1030,151
1066,355
1165,0
991,446
974,448
529,894
1086,341
1301,112
1088,327
965,448
520,894
728,672
1088,315
953,448
974,446
814,593
1086,327
965,446
949,448
1399,0
953,446
1088,299
937,448
621,782
766,894
544,833
928,448
757,894
802,579
949,446
1382,0
937,446
1086,301
1373,0
928,446
737,894
1361,0
728,894
1200,166
557,810
681,672
1263,362
1086,287
1357,0
1086,273
1088,271
911,448
1319,42
1345,0
566,784
902,448
1336,0
1481,112
1145,448
1088,509
557,784
719,894
1086,257
911,446
1136,448
544,789
1313,21
1047,303
902,446
544,791
1145,446
1086,511
1373,222
702,894
1136,446
693,894
681,894
1319,0
1127,448
832,733
1290,19
1310,0
677,894
1301,0
1127,446
1110,448
665,894
792,754
1101,448
656,894
1281,0
1089,448
1086,469
1446,110
1110,446
1101,446
1085,448
1535,0
1089,446
1073,448
1086,455
1378,150
1064,448
893,894
1085,446
1310,222
1518,0
1073,446
1509,0
1064,446
873,894
1086,427
1497,0
1088,411
864,894
1358,147
1493,0
1047,448
1481,0
1086,413
1088,397
1038,448
1472,0
855,894
1047,446
1029,448
647,833
1272,448
1497,224
1088,637
1038,446
1029,446
838,894
1630,89
1272,446
1407,315
965,756
1632,75
829,894
1263,460
1446,9
817,894
1088,609
1455,0
1263,448
1151,553
1446,0
1535,168
1630,77
813,894
1086,623
1437,0
1263,446
1246,448
801,894
1088,593
1632,49
1237,448
792,894
1336,336
1417,0
1225,448
1630,63
1246,446
1497,180
953,726
1086,595
1408,0
1088,581
1237,446
1221,448
1225,446
873,784
814,861
1536,123
1535,138
1209,448
1408,252
991,672
1200,448
1632,19
1088,565
1221,446
1032,620
775,894
1654,0
1088,553
1209,446
1127,530
1645,0
1200,446
1009,894
1633,0
1000,894
1127,512
1482,145
1145,740
1629,0
1183,448
1617,0
1086,551
1632,245
1174,448
1086,539
1608,0
1088,523
991,894
1183,446
1165,448
1029,591
1174,446
1086,523
1088,763
1086,525
1338,257
1165,446
974,894
928,670
1431,173
965,894
1254,607
1086,761
953,894
1591,0
1399,448
1472,362
813,782
1582,0
949,894
1573,0
1399,446
1382,448
937,894
1086,749
1341,492
1246,588
1088,733
1088,735
1373,448
928,894
1553,0
1361,448
1358,469
1382,446
1535,280
1544,0
1630,189
1246,572
1373,446
1136,668
1088,719
1632,175
1357,448
1361,446
1680,112
1009,784
1345,448
974,824
1127,672
1336,448
1357,446
949,840
911,894
1790,0
1632,145
1345,446
1399,392
1345,434
902,894
1781,0
1336,446
926,859
1145,894
1619,164
902,882
1769,0
1101,673
1136,894
1086,691
1630,147
1088,679
1765,0
1319,448
1753,0
1310,448
1744,0
1475,287
1127,894
1319,446
1301,448
1088,649
1310,446
1183,574
1272,726
1281,448
1086,663
1301,446
1110,894
949,784
1880,110
1088,889
1361,616
1101,894
1089,894
1727,0
1281,446
1535,448
1718,0
1085,894
1339,626
1709,0
1535,446
1038,672
1518,448
1073,894
1630,341
1086,887
1086,873
1509,448
1064,894
1088,859
1689,0
1497,448
1518,446
1110,840
1680,0
1509,446
1493,448
1497,446
1632,299
1481,448
1632,301
1088,847
1263,686
1088,833
1472,448
1493,446
1047,894
1671,0
1481,446
1038,894
1917,0
1472,446
1370,551
1905,0
1029,894
1904,5
1272,894
1689,208
1685,231
1165,736
1901,0
1481,422
1455,448
1889,0
1294,612
1446,448
1880,0
1263,894
1455,446
1437,448
1630,259
1446,446
1088,791
1390,749
1417,448
1630,509
1437,446
1246,894
1089,782
1408,448
1798,77
1237,894
1225,894
1863,0
1417,446
1287,579
1310,558
1854,0
1408,446
1399,712
1221,894
1845,0
1654,448
1209,894
1312,525
1645,448
1200,894
1825,0
1633,448
1632,453
1654,446
1047,784
1816,0
1645,446
1629,448
1633,446
1617,448
1886,198
1345,726
1608,448
1632,427
1629,446
1183,894
1807,0
1617,446
1766,301
1174,894
1382,672
1608,446
2041,0
1632,411
1165,894
1987,49
1437,600
2037,0
1926,112
1591,448
2025,0
1654,390
1582,448
2016,0
2174,117
1399,894
1591,446
1573,448
1630,397
1544,467
1582,446
1553,448
1573,446
1382,894
2174,91
1544,448
1373,894
1361,894
1999,0
1553,446
1902,357
1990,0
1544,446
2174,75
2174,77
1357,894
1981,0
1790,448
1345,894
1902,341
1781,448
1336,894
2174,61
1961,0
1769,448
2174,63
1790,446
2174,49
1630,595
1952,0
1781,446
1765,448
1990,224
1769,446
1753,448
2174,47
1360,833
1281,670
1744,448
1765,446
1709,502
1319,894
1656,529
1943,0
1863,336
1753,446
1707,481
1165,782
1310,894
1744,446
1630,565
1301,894
1926,0
2173,0
1781,392
1303,873
1281,894
1727,448
1671,504
2161,0
1718,448
2152,0
2062,110
1535,894
1727,446
1709,448
1950,215
1331,819
1718,446
1662,747
1630,523
1689,448
1709,446
1518,894
1472,670
1680,448
2174,229
1509,894
1926,222
2174,217
1497,894
2135,0
1689,446
1845,292
2067,61
2126,0
1680,446
1493,894
2174,215
2117,0
2174,201
1481,894
2174,203
1671,448
1736,624
1632,733
1917,448
1472,894
1632,721
2097,0
1905,448
1671,446
2174,187
2088,0
1437,670
1630,735
1917,446
1901,448
1632,705
1905,446
1889,448
1507,833
1319,782
1611,733
1880,448
2174,173
1488,845
2174,175
1901,446
1455,894
2174,161
1408,670
2079,0
1889,446
1446,894
1880,446
1904,411
1437,894
2174,159
2174,145
2062,0
2174,147
1630,693
2053,0
1417,894
1863,448
2297,0
1408,894
1854,448
2288,0
2174,133
2176,117
1863,446
1845,448
1861,439
2174,383
2088,196
1854,446
1825,448
1845,446
1654,894
2176,103
1630,651
1816,448
2176,91
1645,894
1727,558
1633,894
2271,0
1825,446
1836,427
2262,0
1816,446
1823,441
2176,75
1629,894
2253,0
1617,894
1807,448
1608,894
2233,0
2041,448
1582,670
2176,63
1807,446
2176,49
2224,0
2174,313
2037,448
2262,224
2174,315
2041,446
2025,448
1689,530
2176,47
2176,33
2016,448
2176,35
1634,835
2037,446
1591,894
1544,670
2215,0
2174,299
2025,446
2174,301
1630,847
2253,222
1654,822
1608,852
1582,894
2016,446
2176,19
1573,894
2198,0
2174,285
1744,698
2134,327
2174,287
2189,0
1553,894
1999,448
1632,803
2177,0
2253,196
1632,805
2176,5
2176,7
1544,894
1990,448
2424,0
2174,257
1999,446
1981,448
2174,259
2176,243
2176,245
1990,446
2088,334
1632,777
1961,448
2174,509
1645,782
1981,446
1790,894
1952,448
2153,505
1781,894
2176,229
1582,838
2176,231
1769,894
2407,0
2176,217
2249,158
1961,446
1777,872
1629,782
2174,495
2398,0
1952,446
1765,894
2389,0
2176,215
2050,341
1753,894
2176,201
1943,448
2176,203
1744,894
2004,637
2174,467
2369,0
1984,387
2053,334
1943,446
1926,448
2360,0
2176,189
2173,448
2223,145
1680,672
2174,453
2161,448
2174,455
1926,446
2152,448
2173,446
1727,894
2176,175
2351,0
2271,336
2161,446
1718,894
2174,425
2152,446
1671,672
1709,894
2334,0
2173,418
2016,560
2325,0
1689,894
2025,558
2174,411
2135,448
2313,0
2174,413
1917,670
1680,894
2126,448
2313,250
2176,133
1854,726
2135,446
2309,0
2117,448
2174,397
2241,317
2126,446
2176,383
1889,670
2176,371
2097,448
2117,446
1671,894
2325,224
2446,105
1843,711
2088,448
1917,894
1900,641
1905,894
2097,446
2543,0
1744,784
2176,355
2176,357
1990,558
2088,446
2534,0
2446,91
2174,621
1901,894
2174,623
2525,0
1889,894
2038,747
2135,392
2079,448
2176,343
1880,894
2505,0
2079,446
2062,448
2496,0
2079,434
2487,26
2053,448
2176,313
2176,315
2297,448
2062,446
2288,448
2053,446
1863,894
2297,446
2487,0
1854,894
2117,616
2288,446
2174,565
1845,894
2174,567
2174,553
2470,0
1689,782
2176,285
2461,0
1825,894
2176,273
2271,448
2449,0
2174,551
2174,537
1816,894
2057,399
2262,448
1671,784
2041,670
2174,539
2467,247
2271,446
2445,0
2253,448
1961,728
2176,259
2433,0
2262,446
2174,523
2174,525
2440,243
2233,448
2253,446
2176,509
1807,894
2560,112
2224,448
2215,474
1833,844
2041,894
2174,763
2233,446
2679,0
2487,194
2176,495
2334,336
2224,446
2670,0
2176,483
2037,894
2661,0
2025,894
2215,448
2016,894
2641,0
2176,467
2215,446
2198,448
2632,0
1926,725
2028,878
2797,110
2189,448
2177,448
2176,453
2198,446
1845,784
2392,495
2424,448
2189,446
1999,894
2174,705
2062,560
2177,446
2623,0
2152,712
1990,894
2176,439
2424,446
2176,425
1981,894
2606,0
2597,0
1961,894
2407,448
2585,0
2176,413
1952,894
2398,448
2407,446
2581,0
2389,448
2569,0
2445,140
2173,670
2176,397
2398,446
1952,879
2161,670
2813,21
2560,0
2369,448
2535,301
2174,663
2389,446
1943,894
2174,649
2152,670
2174,651
2360,448
2720,91
2176,637
2369,446
2815,0
2548,271
2046,775
1926,894
2174,889
2360,446
2806,0
2173,894
2176,623
2797,0
2161,894
2351,448
2053,749
2174,887
2174,873
2152,894
2174,875
2777,0
2176,607
2351,446
2334,448
1999,784
2176,593
2720,49
2768,0
2176,595
2325,448
2174,859
2581,194
2174,861
2313,448
2334,446
2325,446
2910,119
2806,222
2135,894
2309,448
2198,560
1961,798
2313,446
2759,0
2933,84
2126,894
2718,33
2895,112
2117,894
2176,565
2309,446
2176,567
2742,0
2176,553
2895,110
2733,0
2062,672
2097,894
2177,558
2543,448
2718,21
2721,0
2558,425
2088,894
2347,637
2534,448
2433,280
2543,446
2717,0
2525,448
2174,805
2705,0
2534,446
2696,0
2505,448
2176,525
2525,446
2079,894
2288,670
2496,448
2174,789
2174,791
2445,504
2505,446
2932,21
2152,784
2176,763
2062,894
2496,446
2942,0
2174,775
2053,894
2933,0
2720,215
2297,894
2487,448
2176,747
2695,245
2176,749
2288,894
2111,819
2913,0
2177,740
2487,446
2470,448
2718,203
2904,0
2720,187
2176,733
2461,462
2176,735
2461,448
2176,721
2449,448
2470,446
2933,224
2177,726
2461,446
2271,894
2720,175
2445,448
2449,446
2895,0
2176,707
2433,448
2262,894
2253,894
2445,446
2878,0
2433,446
2636,500
2514,609
2717,166
2869,0
2233,894
2679,448
2632,481
2857,0
2224,894
2670,448
2679,446
2853,0
2661,448
2446,413
2841,0
2670,446
2578,269
2895,222
2641,460
2832,0
2641,448
2661,446
2215,894
2424,670
2632,448
2857,224
2913,168
2896,189
2641,446
2869,222
2198,894
2632,446
2189,894
2448,623
3069,0
2177,894
2718,355
2623,448
2284,788
2191,885
2424,894
2176,873
3049,0
2446,609
2623,446
2688,367
2606,448
3040,0
2961,80
2718,341
2597,448
2585,448
2606,446
2597,446
2407,894
2581,448
2585,446
3031,0
2569,448
2398,894
2176,833
2560,448
2389,894
2581,446
3014,0
2569,446
3005,0
2560,446
2176,817
2369,894
2815,448
2993,0
2360,894
2806,448
2989,0
2815,446
2797,448
2977,0
2176,805
2806,446
3031,222
2968,0
2777,448
2797,446
2351,894
2768,448
2176,789
2777,446
2334,894
2768,446
2461,754
2325,894
2176,775
2313,894
2951,0
2759,448
3185,0
2430,775
2402,787
2309,894
2759,446
2742,448
3176,0
2369,808
2433,749
2733,448
2721,448
2718,469
2742,446
2733,446
2739,427
2543,894
2717,448
3167,0
2721,446
2705,448
2718,455
2534,894
2696,448
2720,427
2525,894
2717,446
3150,0
2826,324
2705,446
2448,693
3141,0
2360,782
2696,446
2505,894
3129,0
2534,868
2496,894
2942,448
2325,810
2449,672
3264,119
3125,0
2933,448
3264,105
3113,0
2942,446
3104,0
3249,112
3262,117
2913,448
2933,446
2487,894
3262,105
3264,89
2904,448
2718,399
2913,446
2446,663
2470,894
2904,446
2461,894
2761,581
3057,287
2449,894
2720,609
3087,0
2895,448
3078,0
3262,75
3262,77
3321,0
2445,894
2718,623
3015,327
2895,446
2933,392
2878,448
2433,894
3264,49
3312,0
2909,422
2534,798
2869,448
3256,49
3007,312
2857,448
3262,63
2878,446
2524,791
2720,579
3264,35
2869,446
3047,271
2679,894
2853,448
3303,0
2857,446
2841,448
2670,894
2718,579
3312,224
2832,448
2718,581
2661,894
2853,446
3286,0
2841,446
3214,77
3277,0
2832,446
2641,894
3265,0
3264,5
2486,785
2720,551
2632,894
2720,537
2585,672
3261,0
3069,448
3249,0
3264,245
2989,264
3240,0
3049,448
3069,446
2623,894
2857,390
2560,672
3040,448
2720,761
3049,446
2720,763
2461,782
2606,894
3040,446
3069,418
2978,497
2597,894
2718,761
3262,217
2585,894
3223,0
3264,201
3031,448
3261,222
2797,672
3214,0
2992,467
2581,894
3205,0
3031,446
3240,222
3014,448
2569,894
2718,747
3448,0
3264,187
3264,189
3005,448
2560,894
2990,467
2993,448
3014,446
3113,334
3262,189
2771,665
2718,735
3005,446
2815,894
2989,448
3439,0
3264,161
2993,446
2977,448
2806,894
3429,5
2968,448
2797,894
2989,446
3422,0
2718,707
2977,446
3413,0
3448,222
2968,446
2777,894
3401,0
2768,894
3262,147
2742,670
2696,700
3397,0
2720,665
2951,448
3385,0
2717,672
3376,0
2718,677
3185,448
2759,894
2720,663
2718,665
2951,446
3176,448
3185,446
3413,222
2742,894
3176,446
2720,889
2956,414
2733,894
2721,894
3359,0
3167,448
3533,84
2718,889
3350,0
3081,271
3264,329
3044,567
3379,217
2717,894
3341,0
3167,446
3150,448
2705,894
3141,460
3141,448
2696,894
3264,313
2720,859
3129,448
3150,446
3359,224
3141,446
3125,462
3125,448
3575,0
3129,446
3113,448
2942,894
3176,390
3104,448
2933,894
3125,446
3350,222
3558,0
3167,393
3113,446
3549,0
3694,112
3104,446
2913,894
2720,819
3537,0
2904,894
3262,287
2718,817
3533,0
3087,448
3521,0
3452,343
3264,259
2869,670
3078,448
3512,0
3321,448
3264,509
2895,894
3087,446
3312,448
2742,782
3078,446
2951,560
3321,446
3262,511
2878,894
3223,294
3264,495
3312,446
3031,728
3694,68
2869,894
3536,215
3104,390
2857,894
3495,0
3303,448
3339,159
3069,672
3486,0
3185,547
2718,775
2853,894
3558,191
2977,756
3477,0
3303,446
3286,448
2841,894
2831,651
3277,448
2832,894
3262,467
3457,0
3265,448
3262,469
3264,453
3286,446
2914,805
3593,112
2869,854
3277,446
3261,448
3040,670
3711,0
3265,446
3262,453
3249,448
3262,455
3240,448
3236,471
3069,894
3261,446
3694,0
3249,446
3369,315
3087,614
3685,0
2904,782
3240,446
3049,894
3139,551
3673,0
3264,411
3040,894
3669,0
3808,105
3223,448
3657,0
3262,413
3264,397
3214,448
3648,0
3806,119
3031,894
3223,446
3205,448
3448,448
3262,399
3214,446
3087,560
3205,446
3014,894
3619,19
3777,119
3448,446
3262,635
3005,894
2993,894
3264,609
3631,0
3439,448
3587,35
3622,0
3262,621
2989,894
3808,61
3753,117
3808,63
3613,0
3482,133
3439,446
3422,448
2977,894
3413,448
2968,894
3695,169
3593,0
3401,448
3422,446
3808,47
3584,0
3264,579
3413,446
3397,448
3622,224
2990,859
3401,446
3385,448
3470,369
3376,448
2955,873
3397,446
2951,894
3830,0
3385,446
3033,785
3063,772
3821,0
3691,130
3376,446
3185,894
3536,273
2968,840
3809,0
3176,894
3156,663
3567,511
3805,0
3249,558
3359,448
3793,0
3262,551
3125,672
3265,532
3350,448
3957,98
3784,0
3795,7
3167,894
3359,446
3341,448
3104,672
3830,222
3350,446
3264,763
3262,525
3005,782
3341,446
3150,894
3711,334
3141,894
3129,894
3767,0
3575,448
3758,0
3087,672
3788,231
3325,695
3125,894
3190,817
3749,0
3575,446
3894,112
3558,448
3113,894
3321,672
3264,735
3549,448
3104,894
3264,721
3729,0
3537,448
3558,446
3277,712
3720,0
3836,145
3549,446
3264,719
3533,448
3537,446
3521,448
3214,518
3512,448
3806,173
3533,446
3087,894
3966,0
3521,446
3214,756
3078,894
3957,0
3512,446
3321,894
3945,0
3312,894
3262,693
3808,131
3941,0
3495,448
3929,0
3486,448
3920,0
3303,894
3495,446
3477,448
3486,446
3457,448
3262,663
3779,128
3808,357
3477,446
3286,894
3825,329
3277,894
3265,894
3903,0
3457,446
3711,448
3920,224
3865,26
3808,343
3894,0
3261,894
4080,63
3885,0
3711,446
3694,448
3249,894
3262,873
3685,448
3240,894
3865,0
3673,448
3264,861
3694,446
3856,0
4001,112
3806,327
3685,446
3818,301
3606,257
3669,448
3673,446
3262,861
3657,448
3957,166
3648,448
3669,446
3223,894
3847,0
3657,446
3865,224
3214,894
4093,0
3648,446"""

inputFolds = """fold along y=447
fold along x=2175
fold along x=1087
fold along x=543
fold along y=223
fold along y=111
fold along x=271
fold along y=55
fold along y=27
fold along y=13
fold along x=135
fold along y=6
fold along x=67"""




coordinates = set()

for x, y in [i.split(",") for i in input.split("\n")]:
    coordinates.add((int(x), int(y)))
    
    
folds = []
    
for line in inputFolds.split("\n"):    
    splitInfo = line.split(" ")[-1]    
    axis, length = splitInfo.split("=")
    
    folds.append((axis, int(length)))
    
def fold(inputCoords, fold):
    
    newCoords = inputCoords.copy()
    
    axis, position = fold
    
    if axis == "x":
        for x, y in inputCoords:
            if x < position:
                newCoords.remove((x, y))
                newCoords.add((position + (position - x), y))
        
        newSet = set()
        for x, y in newCoords:
            newSet.add((x - position - 1, y))
        
        return newSet
    
    if axis == "y":
        for x, y in inputCoords:
            if y >= position:
                newCoords.remove((x, y))
                newCoords.add((x, position - (y - position)))
        
        return newCoords

after1 = fold(coordinates, folds[0])
after2 = fold(after1, folds[1])

# Part 1
print(len(fold(coordinates, folds[0])))


# Part 2
newCoords = coordinates.copy()
for f in folds:
    newCoords = fold(newCoords, f)
    
listOfLists = [['.' for _ in range(67)] for _ in range(6)]

for x, y in newCoords:
    listOfLists[y][x] = '#'
    
for x, y in newCoords:
    print(x, y)
    
    
for ls in listOfLists.reverse():
    print("".join(ls))
    
    
d = {}    
for x, y in coordinates:
    d[(x, y)] = fold({(x, y)}, folds[0])
    
